{% extends "template.html" %}
{% block title %}Home{% endblock title %}
{% block pageTitle %}Search{% endblock pageTitle %}
{% block navLink %}search{% endblock navLink %}
{% block body %}
{{ super() }}
<form class="pb-3 needs-validation" role="search" method="POST" action="" novalidate>
    <div class="input-group mb-3">
        {% if searchForm.ticker.errors %}
            {{ searchForm.ticker(class="form-control is-invalid") }}
                {% for error in searchForm.ticker.errors %}
                    <span class="invalid-feedback">{{ error }}</span>
                {% endfor %}
        {% else %}
            {{ searchForm.ticker(class="form-control") }}
        {% endif %}
        {{ searchForm.submit(class="btn btn-outline-primary") }}
    </div>
</form>
{% endblock body %}

{% block results %}
{{ super() }}
{% if data != None %}
<div id="data">
{% if noResults %}
    <h3 class="text-center">No Results</h3>
    {% else %}
    <h3>Previous Day Close</h3>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Ticker</th>
                <th scope="col">Volume</th>
                <th scope="col">Volume Weighted Average</th>
                <th scope="col">Open</th>
                <th scope="col">Close</th>
                <th scope="col">Low</th>
                <th scope="col">High</th>
            </tr>
        </thead>
        <tbody>
            {% for prev in data[0] %}
            <tr>
                <td>{{ prev.ticker }}</td>
                <td>{{ prev.volume }}</td>
                <td>{{ prev.vwap }}</td>
                <td>{{ prev.open }}</td>
                <td>{{ prev.close }}</td>
                <td>{{ prev.low }}</td>
                <td>{{ prev.high }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
</div>
{% endif %}
{% endblock results %}

{% block footerClass %}fixed-bottom{% endblock footerClass %}